import type { Client } from '../Client/index.js';
import type { ClientEvent } from './ClientEvent.js';
import type { ClientEventMessage } from './ClientEventMessage.js';
export declare class Subscriptions {
    client: Client;
    halted: Promise<void>;
    private events;
    private instanceId;
    private messageId;
    private migrationDelay?;
    private migrationId;
    private pingInterval?;
    private resolveHalted?;
    private subscriptions;
    private ws?;
    constructor(client: Client, instanceId: number);
    init(): Promise<void>;
    private createWebSocket;
    private ping;
    migrate(migrationToken?: string): Promise<void>;
    private sendMigrationToken;
    private retryMigration;
    private clearHalted;
    private recoverWebSocket;
    private getMessageId;
    private getMigrationId;
    private send;
    subscribe<T extends ClientEvent>(event: T, key: string, callback: (message: ClientEventMessage<T>) => void): Promise<void | ({
        id: number;
        event: "response";
        responseCode: number;
    } & {
        key: "POST /ws/subscription/group-member-update" | "POST /ws/subscription/group-server-heartbeat" | "POST /ws/subscription/group-server-status" | "POST /ws/subscription/group-update" | "POST /ws/subscription/me-group-create" | "POST /ws/subscription/me-group-delete" | "POST /ws/subscription/me-group-invite-create" | "POST /ws/subscription/me-group-invite-delete" | "POST /ws/subscription/group-server-create" | "POST /ws/subscription/group-server-delete" | "POST /ws/subscription/group-server-update";
        content: "";
    })> | undefined;
    unsubscribe<T extends ClientEvent>(event: T, key: string): Promise<void | ({
        id: number;
        event: "response";
        responseCode: number;
    } & {
        key: "DELETE /ws/subscription/group-member-update" | "DELETE /ws/subscription/group-server-heartbeat" | "DELETE /ws/subscription/group-server-status" | "DELETE /ws/subscription/group-update" | "DELETE /ws/subscription/me-group-create" | "DELETE /ws/subscription/me-group-delete" | "DELETE /ws/subscription/me-group-invite-create" | "DELETE /ws/subscription/me-group-invite-delete" | "DELETE /ws/subscription/group-server-create" | "DELETE /ws/subscription/group-server-delete" | "DELETE /ws/subscription/group-server-update";
        content: "";
    })> | undefined;
    private createErrorMessage;
    getSize(): number;
}
